windows:
  stage: build
  tags:
  - shared-windows
  - windows
  - windows-1809
  before_script:
  - choco install cmake.install -y --installargs 'ADD_CMAKE_TO_PATH=System'
  - RefreshEnv
  script:
  - mkdir build-windows
  - cd build-windows
  - c:\program files\cmake\bin\cmake -G "Visual Studio 16 2019 Win64" ..
  - c:\program files\cmake\bin\cmake --build . --config Release
  - c:\program files\cmake\bin\ctest -C Release
  artifacts:
    reports:
      junit:
      - build-*\\Examples\\CI\\*-Results.xml
      - build-*\\Tests\\*-Results.xml
  variables: {}
stages:
- build
- test
- results
- release
variables: {}
default: {}
